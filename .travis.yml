language: python
python:
  - "3.6"
install:
  - "pip install -r requirements.txt"
  - "pip install pytest-cov flake8 codecov"
cache: pip
script:
 - flake8 KartRider tests
 - python -m pytest -v --cov=KartRider
after_success:
 - codecov
deploy:
  provider: pypi
  username: Laoraid
  password: PYPI_PASSWORD
  distributions: "sdist bdist_wheel"
  on:
    tags: true
    branch: 
     - release
     - master